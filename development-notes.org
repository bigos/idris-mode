* Development notes

This file is for notes that may be useful in idris-mode integration with Idris2.

** Existing work

*** Old idris-mode

https://github.com/idris-hackers/idris-mode

*** Vim Idris2 plugin

https://github.com/edwinb/idris2-vim

** Idris2 documentation

https://idris2.readthedocs.io/en/latest/

** Writing Emacs mode

https://www.google.com/search?q=emacs+create+a+major+mode

https://www.gnu.org/software/emacs/manual/html_node/elisp/Major-Modes.html

** Running in Emacs

For the development I link this folder to my starter-kit vendor folder.

In scratch buffer I evaluate

#+begin_src emacs-lisp
(require 'idris-mode)
#+end_src

and open idris code file.

Now M-x describe-mode in the idris code buffer should give you description of
the mode key shortcuts.

*** Reloading code without restarting Emacs

https://stackoverflow.com/questions/4359653/how-to-reload-an-emacs-major-mode

Find the progn for the feature that needs reloading
place the cursor at the end and press C-x C-e.

It works in org mode block or *scratch* buffer.

#+begin_src emacs-lisp

  (progn (unload-feature 'idris-commands t) (require 'idris-commands))
  (progn (unload-feature 'idris-common-utils t) (require 'idris-common-utils))
  (progn (unload-feature 'idris-compat t) (require 'idris-compat))
  (progn (unload-feature 'idris-core t) (require 'idris-core))
  (progn (unload-feature 'idris-events t) (require 'idris-events))
  (progn (unload-feature 'idris-highlight-input t) (require 'idris-highlight-input))
  (progn (unload-feature 'idris-hole-list t) (require 'idris-hole-list))
  (progn (unload-feature 'idris-info t) (require 'idris-info))
  (progn (unload-feature 'idris-ipkg-mode t) (require 'idris-ipkg-mode))
  (progn (unload-feature 'idris-keys t) (require 'idris-keys))
  (progn (unload-feature 'idris-log t) (require 'idris-log))
  (progn (unload-feature 'idris-mode t) (require 'idris-mode))
  (progn (unload-feature 'idris-prover t) (require 'idris-prover))
  (progn (unload-feature 'idris-repl t) (require 'idris-repl))
  (progn (unload-feature 'idris-settings t) (require 'idris-settings))
  (progn (unload-feature 'idris-simple-indent t) (require 'idris-simple-indent))
  (progn (unload-feature 'idris-syntax t) (require 'idris-syntax))
  (progn (unload-feature 'idris-tests t) (require 'idris-tests))
  (progn (unload-feature 'idris-tree-info t) (require 'idris-tree-info))
  (progn (unload-feature 'idris-warnings-tree t) (require 'idris-warnings-tree))
  (progn (unload-feature 'idris-warnings t) (require 'idris-warnings))
  (progn (unload-feature 'inferior-idris t) (require 'inferior-idris))

#+end_src

close idris code file and open it again
